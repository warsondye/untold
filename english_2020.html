<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WASSCE English Objectives</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    /* Styles remain the same... */
    #user-info {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 20px;
    }

    #user-info img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      margin-right: 10px;
    }

    #user-info span {
      font-size: 18px;
      font-weight: bold;
    }

    #points-display, #level-display {
      font-size: 18px;
      font-weight: bold;
      margin-top: 10px;
    }
#user-info {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 20px;
    }

    #user-info img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      margin-right: 10px;
    }

    #user-info span {
      font-size: 18px;
      font-weight: bold;
    }

    .pause-play-btn {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: #f0f8ff;
      color: #333;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    header {
      text-align: center;
      padding: 20px;
      background:#28a745 ;
      color: white;
      font-size: 22px;
      font-weight: bold;
    }

    main {
      flex: 1;
      padding: 20px;
      text-align: center;
    }
/* Dark mode styles */
body.dark-mode {
  background-color: #121212;
  color: #e0e0e0;
}

body.dark-mode header,
body.dark-mode footer {
  background-color: #1f1f1f;
  color: #fff;
}

body.dark-mode button {
  background: linear-gradient(45deg, #3e8e41, #367c39);
}

body.dark-mode #quiz-container,
body.dark-mode #leaderboard {
  background: #1e1e1e;
  color: #e0e0e0;
}

body.dark-mode ul.options li {
  background: #2b2b2b;
}

body.dark-mode ul.options li:hover {
  background: #3e8e41;
}

/* Mobile friendly improvements */
@media (max-width: 600px) {
  button {
    font-size: 16px;
    width: 100%;
  }

  header {
    font-size: 18px;
    padding: 15px;
  }

  #user-info {
    flex-direction: column;
    gap: 8px;
  }

  footer a {
    font-size: 16px;
  }

  #quiz-container, #leaderboard {
    padding: 15px;
  }
}

    button {
      padding: 15px 30px;
      font-size: 18px;
      background: linear-gradient(45deg, #4CAF50, #45a049);
      color: white;
      border: none;
      border-radius: 10px;
      margin: 10px;
      cursor: pointer;
      transition: 0.3s;
      width: 80%;
    }

    button:hover {
      background: linear-gradient(45deg, #45a049, #4CAF50);
      transform: scale(1.05);
    }

    #quiz-container {
      display: none;
      background: white;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.1);
      margin-top: 20px;
    }

    #progress-bar {
      height: 10px;
      background: #eee;
      border-radius: 5px;
      overflow: hidden;
      margin: 20px 0;
    }

    #progress {
      height: 100%;
      background: #4CAF50;
      width: 0%;
      transition: width 0.3s;
    }

    ul.options {
      list-style: none;
      margin-top: 20px;
    }

    ul.options li {
      background: #f7f7f7;
      padding: 12px;
      margin: 10px 0;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }

    ul.options li:hover {
      background: #d0f0c0;
    }

    .correct {
      background: #4CAF50 !important;
      color: white;
    }

    .wrong {
      background: #f44336 !important;
      color: white;
    }

    footer {
      position: fixed;
      bottom: 0;
      width: 100%;
      background: #28a745;
      display: flex;
      justify-content: space-around;
      padding: 10px 0;
      box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2);
    }

    footer a {
      color: white;
      text-decoration: none;
      font-size: 18px;
      font-weight: 600;
    }

    footer a:hover {
      color: #FFD700;
    }

    #leaderboard {
      display: none;
      background: white;
      margin-top: 20px;
      padding: 20px;
      border-radius: 15px;
    }

    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background: red;
      top: 0;
      animation: fall 3s linear infinite;
    }

    @keyframes fall {
      0% {transform: translateY(0);}
      100% {transform: translateY(100vh);}
    }
    /* Add more custom styles as needed */
  </style>
</head>

<body>

  <header>WASSCE English Quiz(2020)</header>

  <main id="home-container">
    <h2>Welcome!</h2>
    <p id="pointsDisplay">Points: 0</p>
    <p id="levelDisplay">Level: 1</p>
    <div id="user-info">
      <img id="user-avatar" src="" alt="User Avatar">
      <span id="user-name">Loading...</span>
    </div>
   <button onclick="startQuiz()"><i class="fas fa-play-circle"></i>Start Quiz</button>
    <button onclick="viewLeaderboard()"><i class="fas fa-trophy"></i>View Leaderboard</button>
    <button onclick="resetProgress()"><i class="fas fa-sync-alt"></i>Reset Progress</button>
  </main>

 
   <main id="quiz-container">
    <div id="progress-bar"><div id="progress"></div></div>
    <div id="timer">Time: 15s</div>
    <div id="question"></div>
    <ul class="options" id="options"></ul>
    <button id="next-btn" style="display:none;" onclick="nextQuestion()">Next Question</button>
    <button id="review-btn" style="display:none;" onclick="reviewAnswers()">Review Answers</button>
    <button id="play-again" style="display:none;" onclick="restartQuiz()">Play Again</button>
    <button class="pause-play-btn" id="pause-play-btn" onclick="togglePausePlay()">Pause</button>
  </main>

  <main id="leaderboard">
    <h2>Leaderboard</h2>
    <ul id="leaderboard-list"></ul>
  </main>

  <footer>
    <a href="#" onclick="goHome()">Home</a>
    <a href="#" onclick="startQuiz()">Quiz</a>
    <a href="#" onclick="viewLeaderboard()">Leaderboard</a>
  </footer>
<script src="settings.js"><script>
  <script>
    const questions = [
      { question: "Geraldine is very courteous but her brother is...", options: ["A. Arrogant", "B. Impolite", "C. Snobbish", "D. Haughty"], answer: "B" },
      { question: "Whilst Lydia became......in the contest, Lena was confident.", options: ["A. Assuring", "B. Boastful", "C. Incensed", "D. Jittery"], answer: "D" },
      { question: "Jane was thought to be the instigator; she turned out to be...", options: ["A. Accomplice", "B. Troubleshooter", "C. Advisor", "D. Cool-head"], answer: "D" },
    ];

    let currentIndex = 0, correctAnswers = 0, timer, timeLeft = 15, isPaused = false;
    let leaderboard = JSON.parse(localStorage.getItem('leaderboard')) || [];
    let userPoints = parseInt(localStorage.getItem('userPoints')) || 0;
    let userLevel = parseInt(localStorage.getItem('userLevel')) || 1;

    // Load user avatar and name from localStorage
    const userName = localStorage.getItem('name');
    const userAvatar = localStorage.getItem('avatar');
    document.getElementById('user-name').textContent = userName || "user";
    document.getElementById('user-avatar').src = userAvatar || "https://via.placeholder.com/50"; // Default placeholder if no avatar

    // Display points and level
    function updateUserInfo() {
      document.getElementById('pointsDisplay').textContent = `Points: ${userPoints}`;
      document.getElementById('levelDisplay').textContent = `Level: ${userLevel}`;
    }

    updateUserInfo(); // Initialize on load

    function startQuiz() {
      document.getElementById('home-container').style.display = 'none';
      document.getElementById('quiz-container').style.display = 'block';
      document.getElementById('leaderboard').style.display = 'none';
      currentIndex = 0;
      correctAnswers = 0;
      loadQuestion();
    }

    function loadQuestion() {
      if (currentIndex >= questions.length) {
        finishQuiz();
        return;
      }

      const q = questions[currentIndex];
      document.getElementById('question').innerHTML = `<h3>${currentIndex + 1}. ${q.question}</h3>`;
      document.getElementById('options').innerHTML = q.options.map(opt => `<li onclick="selectAnswer(this, '${q.answer}')">${opt}</li>`).join('');
      document.getElementById('next-btn').style.display = 'none';
      document.getElementById('play-again').style.display = 'none';
      startTimer();
    }

    function selectAnswer(element, correct) {
      clearInterval(timer);
      const options = document.querySelectorAll('#options li');
      options.forEach(opt => opt.style.pointerEvents = 'none');

      if (element.textContent.startsWith(correct)) {
        element.classList.add('correct');
        correctAnswers++;
      } else {
        element.classList.add('wrong');
      }

      // Enable next button
      document.getElementById('next-btn').style.display = 'inline-block';
    }

    function nextQuestion() {
      currentIndex++;
      loadQuestion();
    }

    function startTimer() {
      clearInterval(timer);
      timeLeft = 15;
      document.getElementById('timer').textContent = `Time: ${timeLeft}s`;
      timer = setInterval(() => {
        if (!isPaused) {
          timeLeft--;
          document.getElementById('timer').textContent = `Time: ${timeLeft}s`;
          if (timeLeft <= 0) {
            clearInterval(timer);
            nextQuestion();
          }
        }
      }, 1000);
    }

    function togglePausePlay() {
      isPaused = !isPaused;
      document.getElementById('pause-play-btn').textContent = isPaused ? "Play" : "Pause";
    }
function toggleDarkMode() {
  document.body.classList.toggle('dark-mode');
  localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
}

// Auto-load dark mode if saved
if (localStorage.getItem('darkMode') === 'true') {
  document.body.classList.add('dark-mode');
}

    function finishQuiz() {
      clearInterval(timer);
      // Allow points and level update when quiz is completed
      userPoints += correctAnswers;
      if (userPoints >= 10) userLevel = 2; // Example condition for level increase
      localStorage.setItem('userPoints', userPoints);
      localStorage.setItem('userLevel', userLevel);

      document.getElementById('quiz-container').innerHTML = `
        <h2>Quiz Finished!</h2>
        <p>Score: ${correctAnswers}/${questions.length}</p>
        <p>Your Points: ${userPoints}</p>
        <p>Your Level: ${userLevel}</p>
      `;
      leaderboard.push({ date: new Date().toLocaleDateString(), score: correctAnswers });
      localStorage.setItem('leaderboard', JSON.stringify(leaderboard));

      document.getElementById('quiz-container').innerHTML += `
        <button onclick="restartQuiz()">Play Again</button>
        <button onclick="reviewAnswers()">Review Answers</button>
      `;
    }

    function restartQuiz() {
      document.location.reload();
    }

    function reviewAnswers() {
      let reviewHTML = '<h3>Review</h3>';
      questions.forEach((q, index) => {
        reviewHTML += `<p>${index + 1}. ${q.question}<br><b>Correct Answer:</b> ${q.options.find(opt => opt.startsWith(q.answer))}</p>`;
      });
      document.getElementById('quiz-container').innerHTML = reviewHTML + `<button onclick="restartQuiz()">Play Again</button>`;
    }

    function viewLeaderboard() {
      document.getElementById('home-container').style.display = 'none';
      document.getElementById('quiz-container').style.display = 'none';
      document.getElementById('leaderboard').style.display = 'block';
      const list = leaderboard.map(item => `<li>${item.date}: ${item.score} pts</li>`).join('');
      document.getElementById('leaderboard-list').innerHTML = list;
    }

    function resetProgress() {
      if (confirm('Reset all progress?')) {
        localStorage.removeItem('leaderboard');
        localStorage.removeItem('userPoints');
        localStorage.removeItem('userLevel');
        userPoints = 0;
        userLevel = 1;
        localStorage.setItem('userPoints', userPoints);
        localStorage.setItem('userLevel', userLevel);
        document.location.reload();
      }
    }

    function goHome() {
      document.getElementById('home-container').style.display = 'block';
      document.getElementById('quiz-container').style.display = 'none';
      document.getElementById('leaderboard').style.display = 'none';
    }
  </script>
</body>
</html>
